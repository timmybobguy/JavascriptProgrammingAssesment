<!DOCTYPE html>
<html>
<head>
	<title> 2018 Commonwealth Games </title>
	<meta charset="utf-8">
  <!-- Source files here... -->
	<script type="text/javascript" src="src/data.json"></script>
	<script src="src/htmlFunctions.js"></script>
  <script src="src/SetExtensions.js"></script>
  <script src="src/View.js"></script>
  <script src="src/Team.js"></script>
  <script src="src/Match.js"></script>
  <script src="src/Pool.js"></script>
  <script src="src/Sport.js"></script>
  <script src="src/Tournament.js"></script>
  <script src="src/Controller.js"></script>
  <script src="src/addPoolResults.js"></script>
  <script src="src/shortNames.js"></script>
	<link rel="stylesheet" href="src/stylesheet.css">
	<!-- .................... -->
</head>

<body class="container">

<header>
	<h1>The 2018 Games</h1>
</header>

<nav>
	<p id="para1"> Please select the options you want </p>
</nav>

<main>

</main>

<aside>

</aside>

<footer>Footer</footer>


<!--<button onclick="myFunction()">Click me</button>-->
<body onload="onLoad()">




<script>



var the2018Games
the2018Games = Controller.setup()
console.log( the2018Games )

function onLoad() {
	theSelect = makeSelect(document.body.childNodes[3], "sportSelector")
	addSelectOption(theSelect, "All Sports", 'special')
    for (var x = 0; x < the2018Games.allMySports.length; x++) {
	  addSelectOption(theSelect, the2018Games.allMySports[x].name, x, the2018Games.allMySports[x].name)
    }
	theSelect2 = makeSelect(document.body.childNodes[3], "secondSelector")
	addSelectOption(theSelect2, "Matches", 0, "Matches")
	addSelectOption(theSelect2, "Pools", 1, "Pools")
	addSelectOption(theSelect2, "Teams", 2, "Teams")
	theButton = makeButton(document.body.childNodes[3], 'Update table', 'secondFunction()', 'button1')
}
function secondFunction() {
	document.body.childNodes[5].innerHTML = ""
	sport = String(document.getElementById("sportSelector").value)
	selection = String(document.getElementById("secondSelector").value)
	
	//selectionNumber = document.getElementsByName(selection)[0].id
	//console.log(sportNumber, selectionNumber)
	
	
	allSportsValue = 1
	if (sport === "All Sports") {
		allSportsValue = the2018Games.allMySports.length
	} else {
		sportNumber = document.getElementsByName(sport)[0].id
		theTest = the2018Games.allMySports[sportNumber]
		
	}
	while (allSportsValue > 0) {
		if (sport === "All Sports") {
			//sportNumber = the2018Games.allMySports[allSportsValue - 1]
			theTest = the2018Games.allMySports[allSportsValue - 1]
			paraText = theTest.name
			makeParagraph(document.body.childNodes[5], paraText)
		}
		
		theTable = makeTable(document.body.childNodes[5])
		
		if (selection === "Matches") {
			addTableHeaders(theTable, "Pool", "Team A", "Team B", "Team A Score", "Team B Score", "Date of Match")
			for (var i = 0; i < theTest.allMyMatches.length; i++) {
				addTableData(theTable, theTest.allMyMatches[i].myPool.name, theTest.allMyMatches[i].myTeamA.name, theTest.allMyMatches[i].myTeamB.name, theTest.allMyMatches[i].scoreA, theTest.allMyMatches[i].scoreB, theTest.allMyMatches[i].when)
			}
		} else if (selection === "Pools") {
			addTableHeaders(theTable, "Pool name", "Pool Teams")
			for (var i = 0; i < theTest.allMyPools.length; i++) {
				for (var x = 0; x < theTest.allMyPools[i].allMyTeams.length; x++) {
					addTableData(theTable, theTest.allMyPools[i].name, theTest.allMyPools[i].allMyTeams[x].name)
				}
			}
		} else if (selection === "Teams") {
			addTableHeaders(theTable, "Team name", "Matches won", "Matches lost", "Matches played", "Score for", "Score against")
			for (var i = 0; i < theTest.allMyTeams.length; i++) {
				addTableData(theTable, theTest.allMyTeams[i].name, theTest.allMyTeams[i].matchesWon, theTest.allMyTeams[i].matchesLost, theTest.allMyTeams[i].matchesPlayed, theTest.allMyTeams[i].scoreFor, theTest.allMyTeams[i].scoreAgainst)
			}
		}
		allSportsValue -= 1
	}
}
// This is what you would use to create a search engine: window.find(string), also get the POOL RESULTS. Also consider adding Team statistics with another selector, picking team and then displaying team wins losses etc using graphics.
/*

removeElement("button1")
removeElement("para1")
removeElement("sportSelector")
removeElement("secondSelector")


if (document.getElementById("sportSelector").idea === "special") {
	console.log('testttttt')
} else {

}
*/



/*
Table requires id
// called from a button click or load of a document
function myFunction () { // eslint-disable-line no-unused-vars
  var theTable
  theTable = makeTable(document.body)
  addTableHeaders(theTable, 'ID', 'Grade')
  addTableData(theTable, '123123', '100')
  addTableData(theTable, '987654', '56')
  addTableData(theTable, '1231234', '34')
	theSelect = makeSelect(document.body)
	addSelectOption(theSelect, 'Test')
	addSelectOption(theSelect, 'Test1')
	addSelectOption(theSelect, 'Test2')
	addSelectOption(theSelect, 'Test3')

}
*/


</script>
</body>
</html>
